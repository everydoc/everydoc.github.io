---
title: 并发编程的3大特性
date: 2022-01-10 17:51:02.373
updated: 2022-01-10 21:10:42.482
url: https://halo.imjcker.com/archives/bing-fa-bian-cheng-de-3-da-te-xing
categories: Java SE
tags: 并发 | 多线程 | valotile
---

# 并发编程的三大特性
![java.png](https://halo.imjcker.com/upload/2022/01/java-4b644c9631884d7bbcf7b23fdb17f4e7.png)
## 原子性
原子性指的是一个操作是不可中断的，即使在多线程环境下，一个操作一旦开始就不会被其他线程影响！
举例说明：比如一个变量的++操作，代码中只有一行 i++，但在虚拟机底层并不是一步完成的，执行引擎最少需要经过赋值、自增1、写入工作内存等操作才完成，在这期间可能cpu被其他线程抢去，不能保证操作的原子性！一行代码已经如此，更何况真实开发的几十行代码更有原子性问题！

## 可见性
可见性指的是当一个线程修改了某个共享变量的值，其他线程能够马上感知到这个修改的值。
举例说明：对于单线程来说，串行不存在可见性问题。对于多线程来说，由于不同线程对共享变量的操作都是在自己的工作内存中执行，这就可能存在 ：线程A在自己的工作内存中修改了共享变量x的值，还没来得及写回主内存中，线程B把主内存中原来的值又加载到自己的工作内存中进行操作，线程A对共享变量的操作对线程B来说不可见，这种工作内存与主内存同步的延迟现象就造成了可见性问题！另外指令重排以及编译器优化也可能导致可见性问题。

## 有序性
有序性即程序执行的顺序是否按照代码的先后顺序执行。对于单线程来说，可以认为代码是按照顺序执行的，所有操作都视为有序行为。但是编译器和内存存在指令重排的情况，指令重排虽然仍能保证单线程的有序性（语义一致性），但是却无法保证多线程情况下的有序性，从而导致多线程下程序出错。

## 指令重排
在保证程序最终结果一致、数据依赖性的前提下，JVM对机器指令进行重新排序。使代码指令更符合cpu执行特性，最大限度的发挥机器性能，提高程序运行效率。

